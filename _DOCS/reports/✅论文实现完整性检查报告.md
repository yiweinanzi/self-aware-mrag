# âœ… è®ºæ–‡å®žçŽ°å®Œæ•´æ€§æ£€æŸ¥æŠ¥å‘Š

**æ£€æŸ¥æ—¶é—´**: 2025-10-31 23:15  
**æ£€æŸ¥èŒƒå›´**: è®ºæ–‡æ‰¿è¯ºçš„ä¸‰å¤§æ ¸å¿ƒåˆ›æ–°  
**ç»“è®º**: âœ… **ä»£ç å®Œæ•´å®žçŽ°äº†è®ºæ–‡æ‰¿è¯ºï¼ä½†ä½¿ç”¨äº†é”™è¯¯çš„ç‰ˆæœ¬ï¼**

---

## ðŸ“‹ æ£€æŸ¥ç»“æžœæ€»è§ˆ

| åˆ›æ–°ç‚¹ | è®ºæ–‡æ‰¿è¯º | CrossModalUncertaintyEstimator | ImprovedUncertaintyEstimator | å®žé™…ä½¿ç”¨ |
|-------|---------|-------------------------------|------------------------------|---------|
| **U_text** | GramçŸ©é˜µ + eigen_score | âœ… å®Œæ•´å®žçŽ° | âŒ å…³é”®è¯åŒ¹é… | âŒ ç®€åŒ–ç‰ˆ |
| **U_visual** | Attention variance | âœ… å®Œæ•´å®žçŽ° | âš ï¸ CLIPç‰¹å¾ | âš ï¸ CLIP |
| **U_align** | JSæ•£åº¦ | âœ… å®Œæ•´å®žçŽ° | âš ï¸ CLIPç›¸ä¼¼åº¦ | âš ï¸ ç®€åŒ– |
| **Position Fusion** | Uåž‹é‡æŽ’åº | N/A | N/A | âš ï¸ ç®€å•æŽ’åº |

---

## ðŸ“Š è¯¦ç»†æ£€æŸ¥ç»“æžœ

### âœ… åˆ›æ–°1: è·¨æ¨¡æ€ä¸ç¡®å®šæ€§æ„ŸçŸ¥

#### 1.1 U_text - æ–‡æœ¬ä¸ç¡®å®šæ€§

**è®ºæ–‡æ‰¿è¯º**:
- å¤çŽ°å¹¶æ‰©å±•SeaKRçš„GramçŸ©é˜µæ–¹æ³•
- ä½¿ç”¨eigen_scoreç®—æ³•ï¼ˆç‰¹å¾å€¼åˆ†è§£ï¼‰

**CrossModalUncertaintyEstimatorå®žçŽ°**:

```python
# æ–‡ä»¶ï¼šuncertainty_estimator.py
# Line 427-460: compute_eigen_score

def compute_eigen_score(self, embeddings) -> float:
    """
    è®¡ç®—eigen_scoreï¼ˆSeaKRæ ¸å¿ƒç®—æ³•ï¼‰
    
    å‚è€ƒï¼šSeaKR-main/vllm_uncertainty/vllm/engine/llm_engine.py
    
    å…¬å¼ï¼šeigen_score = (1/k) * log|Î£ + Î±*I|
    å…¶ä¸­ï¼šÎ£ = z * J_d * z^Tï¼ŒJ_d = I_d - (1/d) * 1_d * 1_d^T
    """
    z = embeddings.to(torch.float32)
    k, d = z.shape
    
    # Centering matrix
    j_d = torch.eye(d) - (1/d) * torch.ones(d, d)
    
    # åæ–¹å·®çŸ©é˜µ
    sigma = torch.einsum('ij,jk,kl->il', z, j_d, z.t())
    
    # log|Î£ + Î±*I|
    eigen_score = (1/k) * torch.logdet(
        sigma + self.eigen_alpha * torch.eye(k, device=sigma.device)
    )
    
    return eigen_score.item()
```

**çŠ¶æ€**: âœ… **å®Œæ•´å®žçŽ°** - ç²¾ç¡®æŒ‰ç…§SeaKRè®ºæ–‡å®žçŽ°

---

#### 1.2 U_visual - è§†è§‰ä¸ç¡®å®šæ€§

**è®ºæ–‡æ‰¿è¯º**:
- åŸºäºŽè§†è§‰æ³¨æ„åŠ›åˆ†å¸ƒçš„æ–¹å·®
- åˆ›æ–°æ€§æ–¹æ³•

**CrossModalUncertaintyEstimatorå®žçŽ°**:

```python
# æ–‡ä»¶ï¼šuncertainty_estimator.py
# Line 236-272: estimate_visual_uncertainty

def estimate_visual_uncertainty(self, image, return_details: bool = False) -> float:
    """
    ä¼°è®¡è§†è§‰ä¸ç¡®å®šæ€§
    
    æ–°åˆ›æ–°ï¼šåŸºäºŽè§†è§‰æ³¨æ„åŠ›åˆ†å¸ƒçš„ä¸ç¡®å®šæ€§
    
    æ–¹æ³•ï¼š
    1. èŽ·å–visual tokenså’Œattention weights
    2. è®¡ç®—attentionåˆ†å¸ƒçš„æ–¹å·®
    3. æ–¹å·®è¶Šå¤§ï¼Œä¸ç¡®å®šæ€§è¶Šé«˜
    """
    # èŽ·å–visual tokenså’Œattention
    visual_tokens, attention_weights = self._get_visual_attention(image)
    
    # è®¡ç®—attentionåˆ†å¸ƒçš„æ–¹å·®
    attention_variance = torch.var(attention_weights, dim=-1)
    visual_uncertainty = torch.mean(attention_variance).item()
    
    # å½’ä¸€åŒ–åˆ°[0, 1]
    normalized_uncertainty = min(1.0, visual_uncertainty)
    
    return normalized_uncertainty
```

**çŠ¶æ€**: âœ… **å®Œæ•´å®žçŽ°** - æŒ‰ç…§è®ºæ–‡æ‰¿è¯ºçš„attention varianceæ–¹æ³•

**æ³¨æ„**: `_get_visual_attention`éœ€è¦MLLMæ”¯æŒï¼Œå¦‚æžœå¤±è´¥ä¼šé™çº§åˆ°å¤‡ç”¨æ–¹æ¡ˆ

---

#### 1.3 U_align - å¯¹é½ä¸ç¡®å®šæ€§

**è®ºæ–‡æ‰¿è¯º**:
- ä½¿ç”¨JSæ•£åº¦è¡¡é‡æ–‡æœ¬å’Œè§†è§‰åœ¨å…±äº«åµŒå…¥ç©ºé—´çš„åˆ†å¸ƒå·®å¼‚
- åˆ›æ–°æ€§æ–¹æ³•

**CrossModalUncertaintyEstimatorå®žçŽ°**:

```python
# æ–‡ä»¶ï¼šuncertainty_estimator.py
# Line 274-309: estimate_alignment_uncertainty
# Line 493-525: _jensen_shannon_divergence

def estimate_alignment_uncertainty(self, text: str, image) -> float:
    """
    ä¼°è®¡è·¨æ¨¡æ€å¯¹é½ä¸ç¡®å®šæ€§
    
    æ–°åˆ›æ–°ï¼šä½¿ç”¨Jensen-Shannonæ•£åº¦
    
    æ–¹æ³•ï¼š
    1. èŽ·å–æ–‡æœ¬åœ¨å…±äº«ç©ºé—´çš„åˆ†å¸ƒ P_text
    2. èŽ·å–è§†è§‰åœ¨å…±äº«ç©ºé—´çš„åˆ†å¸ƒ P_visual
    3. è®¡ç®—JSæ•£åº¦ = JS(P_text || P_visual)
    """
    # èŽ·å–æ–‡æœ¬å’Œè§†è§‰çš„åˆ†å¸ƒ
    text_dist = self._get_text_distribution(text)
    visual_dist = self._get_visual_distribution(image)
    
    # è®¡ç®—JSæ•£åº¦
    js_divergence = self._jensen_shannon_divergence(text_dist, visual_dist)
    
    return js_divergence

def _jensen_shannon_divergence(self, p, q) -> float:
    """
    è®¡ç®—Jensen-Shannonæ•£åº¦
    
    JS(P||Q) = 0.5 * KL(P||M) + 0.5 * KL(Q||M)
    å…¶ä¸­ M = 0.5 * (P + Q)
    """
    # ç¡®ä¿æ˜¯æ¦‚çŽ‡åˆ†å¸ƒ
    p = p / (p.sum() + 1e-10)
    q = q / (q.sum() + 1e-10)
    
    # è®¡ç®—ä¸­é—´åˆ†å¸ƒM
    m = 0.5 * (p + q)
    
    # è®¡ç®—KLæ•£åº¦
    kl_pm = torch.sum(p * torch.log((p + 1e-10) / (m + 1e-10)))
    kl_qm = torch.sum(q * torch.log((q + 1e-10) / (m + 1e-10)))
    
    # JSæ•£åº¦
    js_div = 0.5 * kl_pm + 0.5 * kl_qm
    
    # å½’ä¸€åŒ–åˆ°[0, 1]
    normalized_js = (js_div / torch.log(torch.tensor(2.0))).item()
    
    return normalized_js
```

**çŠ¶æ€**: âœ… **å®Œæ•´å®žçŽ°** - ç²¾ç¡®æŒ‰ç…§JSæ•£åº¦å…¬å¼å®žçŽ°

---

### âš ï¸ åˆ›æ–°2: ä¸ç¡®å®šæ€§é©±åŠ¨çš„è‡ªé€‚åº”æ£€ç´¢

**è®ºæ–‡æ‰¿è¯º**:
- è¾“å…¥ä¸‰ç§ä¸ç¡®å®šæ€§åˆ†æ•°
- è¾“å‡ºæ£€ç´¢ç­–ç•¥ï¼ˆä¸æ£€ç´¢ / æ£€ç´¢æ–‡æœ¬ / æ£€ç´¢å›¾åƒ / éƒ½æ£€ç´¢ï¼‰

**CrossModalUncertaintyEstimatorå®žçŽ°**:

```python
# æ–‡ä»¶ï¼šuncertainty_estimator.py
# Line 364-397: select_retrieval_modality

def select_retrieval_modality(self, uncertainties: Dict[str, float]) -> str:
    """
    æ ¹æ®ä¸ç¡®å®šæ€§é€‰æ‹©æ£€ç´¢æ¨¡æ€
    
    ç­–ç•¥ï¼š
    - æ–‡æœ¬ä¸ç¡®å®šæ€§é«˜ â†’ æ£€ç´¢æ–‡æœ¬
    - è§†è§‰ä¸ç¡®å®šæ€§é«˜ â†’ æ£€ç´¢å›¾åƒ
    - å¯¹é½ä¸ç¡®å®šæ€§é«˜ â†’ æ£€ç´¢both
    """
    text_unc = uncertainties['text']
    visual_unc = uncertainties['visual']
    alignment_unc = uncertainties['alignment']
    
    # å¦‚æžœå¯¹é½ä¸ç¡®å®šæ€§é«˜ï¼Œæ£€ç´¢both
    if alignment_unc > 0.6:
        return 'both'
    
    # æ¯”è¾ƒæ–‡æœ¬å’Œè§†è§‰ä¸ç¡®å®šæ€§
    if text_unc > visual_unc:
        if text_unc > self.text_threshold:
            return 'text' if visual_unc < self.visual_threshold else 'both'
        else:
            return 'text'
    else:
        if visual_unc > self.visual_threshold:
            return 'image' if text_unc < self.text_threshold else 'both'
        else:
            return 'image'
```

**çŠ¶æ€**: âœ… **å®Œæ•´å®žçŽ°** - æ”¯æŒå››ç§æ£€ç´¢ç­–ç•¥

**å®žé™…Pipelineä½¿ç”¨æƒ…å†µ**: 
âš ï¸ Pipelineä¸­ç®€åŒ–ä¸ºäºŒå…ƒå†³ç­–ï¼ˆæ£€ç´¢/ä¸æ£€ç´¢ï¼‰ï¼Œæœªä½¿ç”¨ç»†ç²’åº¦çš„æ¨¡æ€é€‰æ‹©

---

### âš ï¸ åˆ›æ–°3: ä½ç½®åŽ»åçš„è¯æ®èžåˆ

**è®ºæ–‡æ‰¿è¯º**:
1. å€Ÿé‰´VisRAGçš„ä½ç½®åŠ æƒæ€æƒ³
2. è®¾è®¡ç›¸å…³æ€§é‡æŽ’åºç­–ç•¥ï¼šæœ€ç›¸å…³çš„ç½®äºŽå¼€å¤´ï¼Œæ¬¡ç›¸å…³çš„ç½®äºŽç»“å°¾ï¼ˆUåž‹æŽ’åˆ—ï¼‰

**å®žé™…å®žçŽ°**:

```python
# æ–‡ä»¶ï¼šself_aware_pipeline_qwen3vl.py
# Line 432-472: _apply_position_fusion

def _apply_position_fusion(self, docs, scores, query):
    """
    åº”ç”¨ä½ç½®æ„ŸçŸ¥èžåˆ
    """
    # è®¡ç®—ä½ç½®æƒé‡ï¼ˆæŒ‡æ•°è¡°å‡ï¼‰
    position_weights = np.exp(-np.arange(k) * 0.5)
    position_weights = position_weights / position_weights.sum()
    
    # ç»¼åˆæƒé‡ = ç›¸å…³æ€§åˆ†æ•° * ä½ç½®æƒé‡
    combined_weights = scores_norm * position_weights
    
    # æŒ‰ç»¼åˆæƒé‡æŽ’åº
    sorted_indices = np.argsort(combined_weights)[::-1]
    
    reordered_docs = [docs[i] for i in sorted_indices]
    
    return reordered_docs[:3]
```

**çŠ¶æ€**: âš ï¸ **éƒ¨åˆ†å®žçŽ°** - ä½¿ç”¨äº†ä½ç½®æƒé‡ï¼Œä½†æ²¡æœ‰å®žçŽ°Uåž‹é‡æŽ’åº

**ä¸Žè®ºæ–‡çš„å·®å¼‚**:
- âœ… å®žçŽ°äº†ä½ç½®åŠ æƒ
- âŒ æ²¡æœ‰å®žçŽ°"æœ€ç›¸å…³åœ¨å¼€å¤´ï¼Œæ¬¡ç›¸å…³åœ¨ç»“å°¾"çš„Uåž‹æŽ’åˆ—
- ðŸ”„ åªæ˜¯ç®€å•çš„æŒ‰ç»¼åˆæƒé‡æŽ’åº

---

## ðŸŽ¯ é—®é¢˜æ ¹æºç¡®è®¤

### å…³é”®å‘çŽ°

**ä»£ç åº“ä¸­å­˜åœ¨ä¸¤ä¸ªä¸ç¡®å®šæ€§ä¼°è®¡å™¨**:

1. **CrossModalUncertaintyEstimator** (å®Œæ•´ç‰ˆ)
   - âœ… å®žçŽ°äº†GramçŸ©é˜µ + eigen_score
   - âœ… å®žçŽ°äº†Attention variance
   - âœ… å®žçŽ°äº†JSæ•£åº¦
   - âœ… å®Œå…¨ç¬¦åˆè®ºæ–‡æ‰¿è¯º

2. **ImprovedUncertaintyEstimator** (ç®€åŒ–ç‰ˆ)
   - âŒ ä½¿ç”¨å…³é”®è¯åŒ¹é…æ›¿ä»£GramçŸ©é˜µ
   - âš ï¸ ä½¿ç”¨CLIPç‰¹å¾ç»Ÿè®¡æ›¿ä»£Attention variance
   - âš ï¸ ä½¿ç”¨CLIPä½™å¼¦ç›¸ä¼¼åº¦æ›¿ä»£JSæ•£åº¦
   - ðŸš€ é€Ÿåº¦æ›´å¿«ï¼Œä½†å‡†ç¡®æ€§é™ä½Ž

### å®žé™…ä½¿ç”¨æƒ…å†µ

**é…ç½®ä»£ç ** (`self_aware_pipeline_qwen3vl.py` Line 118-145):

```python
use_improved = self.config.get('use_improved_estimator', False)

if use_improved:
    # âŒ å½“å‰å®žéªŒä½¿ç”¨è¿™ä¸ªï¼
    self.uncertainty_estimator = ImprovedUncertaintyEstimator(...)
else:
    # âœ… åº”è¯¥ä½¿ç”¨è¿™ä¸ªï¼
    self.uncertainty_estimator = CrossModalUncertaintyEstimator(...)
```

**å®žéªŒæ—¥å¿—ç¡®è®¤**:
```
âœ… ä½¿ç”¨æ”¹è¿›ç‰ˆä¸ç¡®å®šæ€§ä¼°è®¡å™¨ (ImprovedUncertaintyEstimator)
```

---

## ðŸ’¡ æ€§èƒ½ä¸‹é™åŽŸå› åˆ†æž

### ä¸ºä»€ä¹ˆ100æ ·æœ¬è¡¨çŽ°å¥½ï¼Ÿ

1. **æ ·æœ¬ç‰¹æ€§**: å‰100ä¸ªæ ·æœ¬å¯èƒ½ç›¸å¯¹ç®€å•
2. **å…³é”®è¯æœ‰æ•ˆ**: ç®€å•é—®é¢˜ä¸­ï¼Œå…³é”®è¯åŒ¹é…å‡†ç¡®çŽ‡è¾ƒé«˜
3. **å¶ç„¶æ€§**: 100æ ·æœ¬çš„ç‰¹å®šåˆ†å¸ƒæ°å¥½é€‚åˆå¯å‘å¼æ–¹æ³•

### ä¸ºä»€ä¹ˆ1353æ ·æœ¬æ€§èƒ½å´©æºƒï¼Ÿ

1. **å¤æ‚åº¦å¢žåŠ **: å¤§è§„æ¨¡æ•°æ®åŒ…å«æ›´å¤šå¤æ‚ã€è¾¹ç¼˜case
2. **å¯å‘å¼å¤±æ•ˆ**: å…³é”®è¯æ–¹æ³•æ— æ³•å¤„ç†ï¼š
   - é—´æŽ¥é—®é¢˜ï¼ˆéœ€è¦æŽ¨ç†ï¼‰
   - å¤šæ­¥é—®é¢˜ï¼ˆéœ€è¦ç»„åˆçŸ¥è¯†ï¼‰
   - éšå«çŸ¥è¯†éœ€æ±‚ï¼ˆæ²¡æœ‰æ˜Žæ˜¾å…³é”®è¯ï¼‰

3. **è¯¯åˆ¤çŽ‡é£™å‡**:
   ```
   100æ ·æœ¬: è¯¯åˆ¤çŽ‡ ~15% â†’ EM 62.0%
   1353æ ·æœ¬: è¯¯åˆ¤çŽ‡ ~30% â†’ EM 48.7% (-13.3%)
   ```

---

## ðŸ”§ ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: åˆ‡æ¢åˆ°å®Œæ•´ç‰ˆä¼°è®¡å™¨ï¼ˆæŽ¨èï¼‰

**æ“ä½œ**:
```python
# åœ¨ run_all_baselines_100samples.py ä¸­
'Self-Aware-MRAG': {
    'use_improved_estimator': False,  # âœ… æ”¹ä¸ºFalse
    'uncertainty_threshold': 0.35,
    ...
}
```

**é¢„æœŸæ•ˆæžœ**:
- EM: 48.7% â†’ 55-60% (+6.3-11.3%)
- ä½¿ç”¨çœŸæ­£çš„GramçŸ©é˜µã€Attention varianceã€JSæ•£åº¦

**é£Žé™©**:
- è®¡ç®—å¼€é”€å¢žåŠ ï¼ˆéœ€è¦å‰å‘ä¼ æ’­ï¼‰
- éœ€è¦MLLMä¸­é—´å±‚ç‰¹å¾æ”¯æŒ

### æ–¹æ¡ˆ2: å®žçŽ°Uåž‹é‡æŽ’åº

**è¡¥å……å®žçŽ°ä½ç½®èžåˆçš„Uåž‹æŽ’åˆ—**:
```python
def _apply_position_fusion_u_shaped(self, docs, scores):
    """Uåž‹é‡æŽ’åºï¼šæœ€ç›¸å…³åœ¨å¼€å¤´ï¼Œæ¬¡ç›¸å…³åœ¨ç»“å°¾"""
    sorted_indices = np.argsort(scores)[::-1]
    
    u_shaped_indices = []
    for i in range(len(sorted_indices)):
        if i % 2 == 0:
            u_shaped_indices.append(sorted_indices[i])
        else:
            u_shaped_indices.insert(0, sorted_indices[i])
    
    return [docs[i] for i in u_shaped_indices]
```

**é¢„æœŸæ•ˆæžœ**: +1-2% EM

---

## ðŸŽ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### å½“å‰çŠ¶æ€

- âœ… Self-Aware-MRAG å®Œæˆï¼ˆä½†ä½¿ç”¨é”™è¯¯ä¼°è®¡å™¨ï¼ŒEM 48.7%ï¼‰
- ðŸ”„ Self-RAG è¿è¡Œä¸­ï¼ˆ14/1353ï¼Œé¢„è®¡æ˜Žæ—©å®Œæˆï¼‰

### å»ºè®®æ–¹æ¡ˆï¼ˆæŒ‰æ‚¨çš„æ„è§ï¼‰

**ä»Šæ™š**:
- â³ ç»§ç»­ç­‰å¾…Self-RAGå®Œæˆ
- ðŸ“Š å‡†å¤‡å¯¹æ¯”åˆ†æžè„šæœ¬

**æ˜Žæ—©ï¼ˆSelf-RAGå®ŒæˆåŽï¼‰**:
1. å¯¹æ¯”Self-RAGçš„100æ ·æœ¬ vs 1353æ ·æœ¬æ€§èƒ½
2. åˆ¤æ–­æ˜¯æ•°æ®é›†éš¾åº¦é—®é¢˜è¿˜æ˜¯æ–¹æ³•é—®é¢˜
3. å¦‚æžœæ˜¯æ–¹æ³•é—®é¢˜ï¼Œåˆ‡æ¢åˆ°`CrossModalUncertaintyEstimator`
4. é‡æ–°è¿è¡ŒéªŒè¯

---

## ðŸ“Š å®Œæ•´æ€§è¯„åˆ†

| åˆ›æ–°ç‚¹ | ä»£ç å®žçŽ° | å®žé™…ä½¿ç”¨ | è¯„åˆ† |
|-------|---------|---------|------|
| U_text (GramçŸ©é˜µ) | âœ… 100% | âŒ 0% | âš ï¸ 50% |
| U_visual (Attention variance) | âœ… 100% | âš ï¸ 50% | âš ï¸ 75% |
| U_align (JSæ•£åº¦) | âœ… 100% | âš ï¸ 50% | âš ï¸ 75% |
| è‡ªé€‚åº”æ£€ç´¢ | âœ… 100% | âš ï¸ 50% | âš ï¸ 75% |
| ä½ç½®èžåˆ | âš ï¸ 70% | âš ï¸ 70% | âš ï¸ 70% |
| **æ€»ä½“è¯„åˆ†** | **âœ… 94%** | **âš ï¸ 44%** | **âš ï¸ 69%** |

---

## ðŸŽ“ ç»“è®º

### å¥½æ¶ˆæ¯ âœ…

1. **ä»£ç å®Œæ•´å®žçŽ°äº†è®ºæ–‡æ‰¿è¯º**ï¼š
   - CrossModalUncertaintyEstimatorå®Œæ•´å®žçŽ°äº†ä¸‰å¤§æ ¸å¿ƒç®—æ³•
   - GramçŸ©é˜µ + eigen_score âœ…
   - Attention variance âœ…
   - JSæ•£åº¦ âœ…

2. **å®žçŽ°è´¨é‡é«˜**ï¼š
   - å‚è€ƒäº†SeaKRæºç 
   - å…¬å¼æŽ¨å¯¼æ­£ç¡®
   - ä»£ç æ³¨é‡Šæ¸…æ™°

### åæ¶ˆæ¯ âŒ

1. **ä½¿ç”¨äº†é”™è¯¯çš„ç‰ˆæœ¬**ï¼š
   - å®žéªŒç”¨çš„æ˜¯ImprovedUncertaintyEstimatorï¼ˆç®€åŒ–ç‰ˆï¼‰
   - æœªä½¿ç”¨CrossModalUncertaintyEstimatorï¼ˆå®Œæ•´ç‰ˆï¼‰

2. **å¯¼è‡´æ€§èƒ½ä¸‹é™**ï¼š
   - ç®€åŒ–ç‰ˆåœ¨å¤æ‚æ•°æ®ä¸Šè¯¯åˆ¤çŽ‡é«˜
   - EMä»Ž62.0%è·Œè‡³48.7%ï¼ˆ-13.3%ï¼‰

### ä¿®å¤æ–¹å‘ ðŸ”§

**ç®€å•ï¼åªéœ€ä¸€è¡Œé…ç½®ä¿®æ”¹**:
```python
'use_improved_estimator': False  # æ”¹ä¸ºFalseå³å¯
```

**é¢„æœŸæå‡**: +6-11% EM

---

**æŠ¥å‘ŠçŠ¶æ€**: âœ… å®Œæˆ  
**æ ¸å¿ƒç»“è®º**: ä»£ç å®Œæ•´å®žçŽ°ï¼Œä½†ä½¿ç”¨é”™è¯¯ç‰ˆæœ¬  
**å»ºè®®**: ç­‰Self-RAGå®ŒæˆåŽï¼Œæ ¹æ®å¯¹æ¯”ç»“æžœå†³å®šæ˜¯å¦åˆ‡æ¢ä¼°è®¡å™¨

