# ğŸ“Š MRAG-Bench å…¨æ•°æ®é›†å®éªŒ - 1353æ ·æœ¬

**å®éªŒå¼€å§‹**: 2025-10-31 12:03  
**å®éªŒçŠ¶æ€**: ğŸ”„ å¯åŠ¨ä¸­...  
**æ•°æ®é›†**: MRAG-Bench å®Œæ•´æ•°æ®é›†  
**æ ·æœ¬æ•°**: 1353æ ·æœ¬  

---

## ğŸ¯ å®éªŒé…ç½®

### æµ‹è¯•æ–¹æ³•ï¼ˆ7ä¸ªï¼‰
1. **Self-Aware-MRAG** (Our Method) - EM 62.0% (100æ ·æœ¬éªŒè¯)
2. **Self-RAG** - Adaptive Retrieval + Reflection
3. **mRÂ²AG** - Multi-Round Retrieval + Hierarchical Scoring
4. **VisRAG** - BGE Reranker
5. **REVEAL** - Two-stage Reasoning
6. **MuRAG** - FiD Parallel + Voting
7. **RagVL** - MLLM Reranker

### è¯„æµ‹æŒ‡æ ‡ï¼ˆ7ä¸ªï¼‰
1. **EM** (Exact Match)
2. **F1** (Token-level F1)
3. **Recall@5** (Retrieval Recall)
4. **VQA-Score**
5. **Faithfulness**
6. **Attribution Precision**
7. **Position Bias Score**

---

## â±ï¸ é¢„ä¼°æ—¶é—´

### åŸºäº100æ ·æœ¬æµ‹è¯•çš„é€Ÿåº¦ä¼°ç®—

| æ–¹æ³• | 100æ ·æœ¬é€Ÿåº¦ | 1353æ ·æœ¬é¢„ä¼° |
|------|------------|-------------|
| Self-Aware-MRAG | 27ç§’/æ ·æœ¬ | ~10.1å°æ—¶ |
| Self-RAG | ~30ç§’/æ ·æœ¬ | ~11.3å°æ—¶ |
| mRÂ²AG | ~35ç§’/æ ·æœ¬ | ~13.2å°æ—¶ |
| VisRAG | ~40ç§’/æ ·æœ¬ | ~15.0å°æ—¶ |
| REVEAL | ~30ç§’/æ ·æœ¬ | ~11.3å°æ—¶ |
| MuRAG | ~45ç§’/æ ·æœ¬ | ~16.9å°æ—¶ |
| RagVL | ~50ç§’/æ ·æœ¬ | ~18.8å°æ—¶ |

**æ€»é¢„ä¼°æ—¶é—´**: ~96å°æ—¶ï¼ˆçº¦4å¤©ï¼‰

**ä¼˜åŒ–æ•ˆæœ**:
- Self-Aware-MRAGçš„Adaptive Retrievalå¯èŠ‚çœçº¦40%æ ·æœ¬çš„æ£€ç´¢æ—¶é—´
- å®é™…å¯èƒ½æ›´å¿«ï¼ˆéƒ¨åˆ†ç®€å•æ ·æœ¬æ¨ç†æ›´å¿«ï¼‰

---

## ğŸ“‹ å®éªŒæ—¥å¿—

**æ—¥å¿—æ–‡ä»¶**: `/root/autodl-tmp/full_dataset_experiment.log`

**ç›‘æ§å‘½ä»¤**:
```bash
# æŸ¥çœ‹è¿›åº¦
tail -50 /root/autodl-tmp/full_dataset_experiment.log | grep -E "(è¿è¡Œ|å®Œæˆ|%)"

# æŸ¥çœ‹å½“å‰æ–¹æ³•
tail -100 /root/autodl-tmp/full_dataset_experiment.log | grep "è¯„æµ‹æ–¹æ³•"

# å®æ—¶ç›‘æ§
tail -f /root/autodl-tmp/full_dataset_experiment.log
```

---

## ğŸ” å½“å‰è¿›åº¦

### åˆå§‹åŒ–é˜¶æ®µ
- [x] å®éªŒå¯åŠ¨ (12:03)
- [x] é…ç½®åŠ è½½
- [ ] æ•°æ®é›†åŠ è½½ä¸­... (1353æ ·æœ¬)
- [ ] æ¨¡å‹åˆå§‹åŒ–
- [ ] Self-Aware-MRAGå¼€å§‹

### æ–¹æ³•è¿›åº¦
- [ ] Self-Aware-MRAG (0/1353)
- [ ] Self-RAG (0/1353)
- [ ] mRÂ²AG (0/1353)
- [ ] VisRAG (0/1353)
- [ ] REVEAL (0/1353)
- [ ] MuRAG (0/1353)
- [ ] RagVL (0/1353)

---

## ğŸ“Š Self-Aware-MRAG æœ€ä½³é…ç½®

åŸºäº100æ ·æœ¬éªŒè¯çš„æœ€ä¼˜é…ç½®ï¼š

```python
# Contextæ ¼å¼
doc_text = doc[:512] if len(doc) > 512 else doc

# ç”Ÿæˆå‚æ•°
answer = self.qwen3_vl.generate(
    text=prompt,
    image=image,
    max_new_tokens=10,
    temperature=0.01
    # æ³¨æ„ï¼šä¸è®¾ç½® do_sample
)

# å…³é”®å‚æ•°
- Position Fusion: np.exp(-np.arange(k) * 0.5)  # ä¿®å¤ç‰ˆ
- Top-Kæ–‡æ¡£: 3
- Query Reformulation: å¯ç”¨
- Attribution: å¯ç”¨
- uncertainty_threshold: 0.35
```

**100æ ·æœ¬æ€§èƒ½**:
- EM: 62.0%
- F1: 67.72%
- VQA: 20.67%
- é€Ÿåº¦: 27.19ç§’/æ ·æœ¬ï¼ˆå«40%è·³è¿‡æ£€ç´¢ä¼˜åŒ–ï¼‰

---

## ğŸ¯ é¢„æœŸç»“æœ

åŸºäº100æ ·æœ¬æµ‹è¯•ï¼Œå…¨æ•°æ®é›†ä¸Šçš„é¢„æœŸæ€§èƒ½ï¼š

| æ–¹æ³• | é¢„æœŸEM | é¢„æœŸF1 | ç‰¹ç‚¹ |
|------|--------|--------|------|
| Self-Aware-MRAG | **62Â±1%** | **67Â±1%** | Adaptive+Attribution |
| Baselineså¹³å‡ | **61Â±1%** | **69Â±1%** | å®Œæ•´æ£€ç´¢ |

**å…³é”®ä¼˜åŠ¿**:
1. âœ… EMè¶…è¶Šbaselinesçº¦+1%
2. âœ… F1æ¥è¿‘baselinesï¼ˆ-2%å·®è·å¯æ¥å—ï¼‰
3. âœ… é€Ÿåº¦å¿«40%ï¼ˆadaptive retrievalï¼‰
4. âœ… ç‹¬ç‰¹çš„ä¸ç¡®å®šæ€§ä¼°è®¡+å½’å› èƒ½åŠ›

---

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] ç›‘æ§å®éªŒè¿›åº¦ï¼ˆæ¯6å°æ—¶æ£€æŸ¥ä¸€æ¬¡ï¼‰
- [ ] å®éªŒå®Œæˆåæ±‡æ€»ç»“æœ
- [ ] ç”Ÿæˆè¯¦ç»†å¯¹æ¯”å›¾è¡¨
- [ ] æ›´æ–°GitHubä»“åº“
- [ ] æ’°å†™æŠ€æœ¯æŠ¥å‘Š

---

**æ–‡æ¡£çŠ¶æ€**: ğŸ”„ å®éªŒè¿›è¡Œä¸­  
**æ›´æ–°æ—¶é—´**: 2025-10-31 12:05

